(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{66:function(a,t,e){"use strict";e.r(t);var s=e(2),r=e(7),n=e(5),o={components:{CHeader:s.a,DataTable:r.a,CModal:n.a},data:function(){return{user:{},columns:[{key:"tanggal_transaksi",sortable:!0},{key:"keterangan",sortable:!1},{key:"pemasukan",sortable:!0},{key:"pengeluaran",sortable:!0},{key:"kategori",label:"Kategori",sortable:!0},{key:"dompet.nama",label:"Dompet",sortable:!0},{key:"actions",label:"Aksi",sortable:!1}],transaksis:[],meta:{},current_page:1,per_page:10,search:"",sortBy:"tanggal",sortByDesc:!1}},mounted:function(){var a=this;window.axios.get("/user").then((function(t){a.user=t.data})),this.loadData()},methods:{loadData:function(){var a=this,t=""==this.search?this.current_page:1;window.axios.get("/transaksi",{params:{page:t,per_page:this.per_page,q:this.search}}).then((function(t){var e=t.data.data;a.transaksis=e.data,a.meta={total:e.total,current_page:e.current_page,per_page:e.per_page,from:e.from,to:e.to}}))},handlePerPage:function(a){this.per_page=a,this.loadData()},handlePagination:function(a){this.current_page=a,this.loadData()},handleSearch:function(a){this.search=a,this.loadData()},handleSort:function(a){this.sortBy=a.sortBy,this.sortByDesc=a.sortDesc}}},i=e(1),l=Object(i.a)(o,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"no"},[e("CHeader",{attrs:{title:a.$route.name}}),a._v(" "),e("div",{staticClass:"bg-white rounded shadow p-2"},[e("div",{staticClass:"row"},[a._m(0),a._v(" "),"Bendahara"===a.user.role?e("div",{staticClass:"col-2 pb-4"},[e("button",{staticClass:"btn btn-block btn-primary",attrs:{"data-toggle":"modal","data-target":"#modalTambah"}},[a._v("\n          Tambah Transaksi\n        ")])]):a._e()]),a._v(" "),e("DataTable",{attrs:{fields:a.columns,items:a.transaksis,meta:a.meta},on:{per_page:a.handlePerPage,pagination:a.handlePagination,search:a.handleSearch,sort:a.handleSort}})],1),a._v(" "),"Bendahara"===a.user.role?e("CModal",{attrs:{"id-modal":"modalTambah",tipe:"Tambah"}}):a._e()],1)}),[function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"col-10"},[t("h4",{staticClass:"ml-2 mt-2"},[this._v("List Transaksi")])])}],!1,null,null,null);t.default=l.exports}}]);